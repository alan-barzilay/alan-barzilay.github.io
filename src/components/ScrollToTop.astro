---
// Scroll-to-top button
import ChevronDown from "../images/SVGs/chevron-down.svg";
---

<button
    id="scroll-to-top"
    aria-label="Scroll to top"
    title="Back to top"
    class="fixed bottom-8 right-8 z-30
        flex h-12 w-12 items-center justify-center
        rounded-full border-2 border-white/20
        text-white cursor-pointer
        transition-all duration-300 ease-in-out
        
        /* Initial State: Hidden and pushed down */
        invisible opacity-0 translate-y-24
        
        /* Visible State (triggered by JS adding '.visible' class) */
        [&.visible]:visible [&.visible]:opacity-100 [&.visible]:translate-y-0
        
        /* Hover State */
        hover:scale-110
        
        /* Active State */
        active:scale-95"
>
    <ChevronDown class="h-6 w-6 rotate-180" />
</button>

<script>
    const scrollToTopButton = document.getElementById("scroll-to-top");

    function handleScroll() {
        if (window.scrollY > 300) {
            scrollToTopButton?.classList.add("visible");
        } else {
            scrollToTopButton?.classList.remove("visible");
        }
    }

    function scrollToTop() {
        window.scrollTo({
            top: 0,
            behavior: "smooth",
        });
    }

    window.addEventListener("scroll", handleScroll);
    scrollToTopButton?.addEventListener("click", scrollToTop);

    // Check on load in case the user refreshes halfway down the page
    handleScroll();
</script>
